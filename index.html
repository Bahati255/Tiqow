<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tiqow Ticket Page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" rel="stylesheet">
  <style>
    body { background-color: #e7efe0; font-family: sans-serif; }
    .navbar { background-color: #28a745; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .footer { background-color: #20a96f; padding: 40px 0; color: white; }
    .event-card { border: 1px solid #dee2e6; border-radius: 12px; background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.05); transition: transform 0.2s; height: 100%; }
    .event-card:hover { transform: scale(1.02); }
    .event-img { height: 200px; object-fit: cover; width: 100%; border-top-left-radius: 12px; border-top-right-radius: 12px; }
    .event-body { padding: 1rem; }
    .ticket-price { font-weight: bold; color: #198754; }
    .buy-btn, .confirm-purchase-btn, .view-more-btn {
      background-color: #28a745; color: white; border: none; padding: 8px 16px; border-radius: 6px; transition: background-color 0.3s;
    }
    .buy-btn:hover, .confirm-purchase-btn:hover, .view-more-btn:hover { background-color: #218838; }
    .quantity-btn { width: 40px; height: 40px; border-radius: 50%; background-color: #f0f0f0; border: none; font-size: 20px; }
    .quantity-input { width: 60px; text-align: center; font-size: 18px; margin: 0 10px; border: 1px solid #ddd; border-radius: 5px; padding: 5px; }
    .modal-body img { max-height: 250px; object-fit: cover; width: 100%; border-radius: 8px; }
    .circle-img { width: 70px; height: 70px; border-radius: 50%; object-fit: cover; border: 3px solid #28a745; cursor: pointer; }
    .swiper-slide img { height: 150px; width: 100%; object-fit: cover; border-radius: 8px; }
  </style>
</head>
<body>
<!-- Header -->
<nav class="navbar navbar-expand-lg navbar-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html"><img src="img/logo 1.png" alt="Tiqow Logo" height="55" width="145"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link text-white" href="#">Help</a></li>
        <li class="nav-item"><a class="nav-link text-white" href="#">Notifications</a></li>
        <li class="nav-item"><a href="login.html" class="btn btn-primary">Login/Register</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Stories -->
<div class="container my-4">
  <div class="row text-center g-3">
    <div class="col"><img src="img/afro.jpg" alt="Events" class="circle-img" onclick="showStory('Events', 'img/afro.jpg')"><div>Events</div></div>
    <div class="col"><img src="img/femme.jpg" alt="Happy Hour" class="circle-img" onclick="showStory('Happy Hour', 'img/femme.jpg')"><div>Happy Hour</div></div>
    <div class="col"><img src="img/Latino.jpg" alt="Night Life" class="circle-img" onclick="showStory('Night Life', 'img/Latino.jpg')"><div>Night Life</div></div>
    <div class="col"><img src="img/extra 1.jpg" alt="Sports Bar" class="circle-img" onclick="showStory('Sports Bar', 'img/extra 1.jpg')"><div>Sports Bar</div></div>
  </div>
</div>

<!-- Story Modal -->
<div class="modal fade" id="storyModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="storyTitle"></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <img id="storyImage" src="" class="img-fluid rounded">
      </div>
    </div>
  </div>
</div>

<!-- Carousel -->
<div class="container">
  <div class="swiper mySwiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide"><img src="img/car1.jpg" alt="Image 1"></div>
      <div class="swiper-slide"><img src="img/car2.jpg" alt="Image 2"></div>
      <div class="swiper-slide"><img src="img/event2.jpg" alt="Image 3"></div>
      <div class="swiper-slide"><img src="img/event7.jpg" alt="Image 4"></div>
      <div class="swiper-slide"><img src="img/event4.jpg" alt="Image 5"></div>
      <div class="swiper-slide"><img src="img/event5.jpg" alt="Image 6"></div>
      <div class="swiper-slide"><img src="img/event8.jpg" alt="Image 7"></div>
      <div class="swiper-slide"><img src="img/event3.jpg" alt="Image 8"></div>
    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
  </div>
</div>

<br>

<!-- Events Section -->
<div class="container mt-4">
  <div class="row" id="eventsContainer"></div>
  <div class="text-center mt-4">
    <a href="events.html" class="view-more-btn">View More Events</a>
  </div>
</div>

<!-- Purchase Modal -->
<div class="modal fade" id="purchaseModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalTitle">Purchase Ticket</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <img id="modalEventImage" src="" class="img-fluid mb-3" alt="Event Image">
        <p><strong>Host:</strong> Tiqow Events</p>
        <p><strong>Venue:</strong> <span id="modalVenue"></span></p>
        <p><strong>Price:</strong> <span id="modalPrice"></span> per ticket</p>
        <div class="quantity-selector d-flex align-items-center justify-content-center my-3">
          <button class="quantity-btn" onclick="adjustQuantity(-1)">-</button>
          <input type="number" class="quantity-input" id="ticketQuantity" value="1" min="1">
          <button class="quantity-btn" onclick="adjustQuantity(1)">+</button>
        </div>
        <p class="text-center">Total: <strong>Ksh <span id="totalAmount">0</span></strong></p>
        <button class="confirm-purchase-btn w-100" onclick="confirmPurchase()">Confirm Purchase</button>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="footer mt-5">
  <div class="container">
    <div class="row">
      <div class="col-md-4 mb-3">
        <img src="img/logo 1.png" alt="Tiqow Logo" height="100" width="160">
        <p class="mt-2">We connect you to the hottest events around you. Discover parties, concerts, nightlife and more. Book with ease.</p>
      </div>
      <div class="col-md-4 mb-3">
        <h5>Quick Links</h5>
        <ul class="list-unstyled">
          <li><a href="index.html" class="text-white text-decoration-none">Home</a></li>
          <li><a href="dashboard.html" class="text-white text-decoration-none">Dashboard</a></li>
          <li><a href="events.html" class="text-white text-decoration-none">Events</a></li>
          <li><a href="#" class="text-white text-decoration-none">Contact</a></li>
        </ul>
      </div>
      <div class="col-md-4 mb-3">
        <h5>Visit Us</h5>
        <iframe src="https://www.google.com/maps/embed?..." width="100%" height="150" style="border:0;" allowfullscreen></iframe>
      </div>
    </div>
    <hr class="border-light">
    <div class="text-center pb-2">© 2025 Tiqow. All rights reserved.</div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  const events = [
    { title: "Summer Music Fest", date: "June 15", venue: "Nairobi Arena", price: 2000, img: "img/event1.jpg" },
    { title: "Jazz Night", date: "June 20", venue: "KICC", price: 2000, img: "img/event2.jpg" },
    { title: "Reggae Vibes", date: "June 22", venue: "Carnivore", price: 2000, img: "img/event3.jpg" },
    { title: "Comedy Night", date: "June 25", venue: "Sarit Centre", price: 2000, img: "img/event4.jpg" },
    { title: "Afrobeat Party", date: "June 28", venue: "Ngong Racecourse", price: 2000, img: "img/event5.jpg" },
    { title: "Cultural Festival", date: "June 29", venue: "Bomas of Kenya", price: 2000, img: "img/event6.jpg" },
    { title: "Rock Concert", date: "July 4", venue: "Two Rivers Mall", price: 2000, img: "img/event7.jpg" },
    { title: "Dance Mania", date: "July 5", venue: "Kasarani Stadium", price: 2000, img: "img/event8.jpg" }
  ];

  let currentEvent = { title: '', price: 0, venue: '', img: '' };

  document.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('eventsContainer');
    events.forEach(evt => {
      container.innerHTML += `
        <div class="col-md-6 col-lg-3 mb-4">
          <div class="event-card">
            <img src="${evt.img}" class="event-img" alt="${evt.title}" onclick="showImageModal('${evt.title}', ${evt.price}, '${evt.img}', '${evt.venue}')">
            <div class="event-body">
              <h5>${evt.title}</h5>
              <p>${evt.date} · ${evt.venue}</p>
              <p class="ticket-price">Ksh ${evt.price.toLocaleString()}</p>
              <button class="buy-btn" onclick="showImageModal('${evt.title}', ${evt.price}, '${evt.img}', '${evt.venue}')">Buy Ticket</button>
            </div>
          </div>
        </div>`;
    });

    new Swiper('.mySwiper', {
      slidesPerView: 2,
      spaceBetween: 10,
      loop: true,
      autoplay: {
        delay: 3000,
        disableOnInteraction: false,
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      breakpoints: {
        768: { slidesPerView: 3 },
        992: { slidesPerView: 4 }
      }
    });
  });

  function showImageModal(title, price, img, venue) {
    currentEvent = { title, price, venue, img };
    document.getElementById('modalTitle').textContent = title;
    document.getElementById('modalPrice').textContent = `Ksh ${price}`;
    document.getElementById('modalVenue').textContent = venue;
    document.getElementById('modalEventImage').src = img;
    document.getElementById('ticketQuantity').value = 1;
    updateTotal();
    new bootstrap.Modal(document.getElementById('purchaseModal')).show();
  }

  function adjustQuantity(change) {
    const input = document.getElementById('ticketQuantity');
    let qty = parseInt(input.value) || 1;
    qty = Math.max(1, qty + change);
    input.value = qty;
    updateTotal();
  }

  function updateTotal() {
    const qty = parseInt(document.getElementById('ticketQuantity').value) || 1;
    const total = qty * currentEvent.price;
    document.getElementById('totalAmount').textContent = total.toLocaleString();
  }

  function confirmPurchase() {
    const qty = parseInt(document.getElementById('ticketQuantity').value);
    const total = qty * currentEvent.price;
    alert(`Thank you! You've purchased ${qty} ticket(s) for ${currentEvent.title} at ${currentEvent.venue}.\nTotal: Ksh ${total}`);
    bootstrap.Modal.getInstance(document.getElementById('purchaseModal')).hide();
  }

  function showStory(title, image) {
    document.getElementById('storyTitle').textContent = title;
    document.getElementById('storyImage').src = image;
    new bootstrap.Modal(document.getElementById('storyModal')).show();
    setTimeout(() => bootstrap.Modal.getInstance(document.getElementById('storyModal')).hide(), 5000);
  }
</script>
</body>
</html>
